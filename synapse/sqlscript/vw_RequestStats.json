{
	"name": "vw_RequestStats",
	"properties": {
		"content": {
			"query": "/****************************************************************************************\n * Script : vw_RequestStats.sql\n * Schema : Telemetry\n * Purpose: Summarizes request counts and latencies from Telemetry.Requests_Snapshot.\n * Author : Jess Johnson\n * Created: 2025-05-19\n * Version: 1.0\n *\n *\n * Description: Summarizes counts and latencies of PDW requests at each capture: total number \n *              of active or recent requests, their average and maximum execution time.\n *\n * Why: High concurrency or long-running queries can signal contention or inefficient plans. \n *      Having a concise request profile per snapshot helps isolate problematic windows.\n *\n * Usage: Plot TotalRequests vs. MaxElapsedMs to see if request volume spikes coincide with slow queries.\n *\n * Benefits: Quick trend analysis of workload intensity.\n *           Spotting outliers when a single request takes much longer\n *           Guidance for tuning concurrency or queue limits\n *\n * Dependencies:\n *   - Telemetry.Requests_Snapshot\n *\n * Change History:\n * 2025-05-19 JJ-1.0 Initial creation\n ****************************************************************************************/\n\n-- ======================================================================================\n-- SECTION 1: Declarations\n-- ======================================================================================\n-- No parameters required.\n\n-- ======================================================================================\n-- SECTION 2: Main logic\n-- ======================================================================================\nCREATE VIEW Telemetry.vw_RequestStats AS\nSELECT\n  PipelineName,\n  PipelineRunId,\n  CaptureTime,\n  TotalRequests,\n  AvgElapsedMs,\n  MaxElapsedMs\nFROM Telemetry.Requests_Snapshot;\nGO\n\n-- ======================================================================================\n-- SECTION 3: Cleanup / Reporting\n-- ======================================================================================\n-- No cleanup required.\nGO",
			"metadata": {
				"language": "sql"
			},
			"currentConnection": {
				"databaseName": "dspendtoenddemo",
				"poolName": "dspendtoenddemo"
			},
			"resultLimit": 5000
		},
		"type": "SqlQuery"
	}
}